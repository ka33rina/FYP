{
  "hash": "bc08365ba584b990f127486180deb6f7",
  "result": {
    "markdown": "---\ntitle: \"Geospatial_Analysis_2\"\ndate: \"2024-02-23\"\nformat: html\nexecute: \n  message: false\n  warning: false\n  freeze: true\neditor: visual\n---\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(sf, tmap, spNetwork, tidyverse, sp)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmpsz_14 <- st_read(dsn = \"data/MasterPlan2014LandUseSHP/\", layer = \"G_MP14_LAND_USE_PL\") %>% st_transform(crs = 3414)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nReading layer `G_MP14_LAND_USE_PL' from data source \n  `C:\\Users\\Kachel Lee\\ka33rina\\FYP\\Analysis\\Geographic Analysis\\data\\MasterPlan2014LandUseSHP' \n  using driver `ESRI Shapefile'\nSimple feature collection with 111525 features and 13 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 2667.538 ymin: 15748.72 xmax: 91863.62 ymax: 50256.33\nProjected CRS: SVY21\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nst_crs(mpsz_14)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nCoordinate Reference System:\n  User input: EPSG:3414 \n  wkt:\nPROJCRS[\"SVY21 / Singapore TM\",\n    BASEGEOGCRS[\"SVY21\",\n        DATUM[\"SVY21\",\n            ELLIPSOID[\"WGS 84\",6378137,298.257223563,\n                LENGTHUNIT[\"metre\",1]]],\n        PRIMEM[\"Greenwich\",0,\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        ID[\"EPSG\",4757]],\n    CONVERSION[\"Singapore Transverse Mercator\",\n        METHOD[\"Transverse Mercator\",\n            ID[\"EPSG\",9807]],\n        PARAMETER[\"Latitude of natural origin\",1.36666666666667,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8801]],\n        PARAMETER[\"Longitude of natural origin\",103.833333333333,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8802]],\n        PARAMETER[\"Scale factor at natural origin\",1,\n            SCALEUNIT[\"unity\",1],\n            ID[\"EPSG\",8805]],\n        PARAMETER[\"False easting\",28001.642,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8806]],\n        PARAMETER[\"False northing\",38744.572,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8807]]],\n    CS[Cartesian,2],\n        AXIS[\"northing (N)\",north,\n            ORDER[1],\n            LENGTHUNIT[\"metre\",1]],\n        AXIS[\"easting (E)\",east,\n            ORDER[2],\n            LENGTHUNIT[\"metre\",1]],\n    USAGE[\n        SCOPE[\"Cadastre, engineering survey, topographic mapping.\"],\n        AREA[\"Singapore - onshore and offshore.\"],\n        BBOX[1.13,103.59,1.47,104.07]],\n    ID[\"EPSG\",3414]]\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(mpsz_14[\"LU_DESC\"])\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(mpsz_14) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\nSimple feature collection with 6 features and 13 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 16933.33 ymin: 35618.13 xmax: 28224.06 ymax: 39865.44\nProjected CRS: SVY21 / Singapore TM\n  OBJECTID OID_1          LU_DESC LU_TEXT  GPR WHI_Q_MX GPR_B_MN\n1        1     0          UTILITY       U  EVA        0        0\n2        2     0       OPEN SPACE    <NA>  EVA        0        0\n3        3     0       OPEN SPACE    <NA>  EVA        0        0\n4        4     0       OPEN SPACE    <NA>  EVA        0        0\n5        5     0             ROAD    <NA> <NA>        0        0\n6        6     0 PLACE OF WORSHIP       W  EVA        0        0\n           INC_CRC FMEL_UPD_D   X_ADDR   Y_ADDR SHAPE_Leng SHAPE_Area\n1 BF0C37311F485B64 2014-06-23 23226.87 37189.33  1474.5021  70314.110\n2 DD6E9ED08FF9F421 2014-06-23 24627.66 36234.19   813.7382  37851.221\n3 9A88CBC8A00238DF 2014-06-23 28064.78 35926.00   771.4417  12284.432\n4 2481817E30624F97 2014-06-23 26176.96 35947.53  1686.7645 151032.768\n5 C56C3E0EF8A3E0CF 2014-06-23 28179.44 35988.46   192.4938   1162.365\n6 CB07DF0D0141AE4A 2014-06-23 16995.33 39802.90   358.7880   7924.381\n                        geometry\n1 MULTIPOLYGON (((23311.89 37...\n2 MULTIPOLYGON (((24653.61 36...\n3 MULTIPOLYGON (((28204.67 35...\n4 MULTIPOLYGON (((26136.73 35...\n5 MULTIPOLYGON (((28224.06 35...\n6 MULTIPOLYGON (((17059.14 39...\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(mpsz_14)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nSimple feature collection with 6 features and 13 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 16933.33 ymin: 35618.13 xmax: 28224.06 ymax: 39865.44\nProjected CRS: SVY21 / Singapore TM\n  OBJECTID OID_1          LU_DESC LU_TEXT  GPR WHI_Q_MX GPR_B_MN\n1        1     0          UTILITY       U  EVA        0        0\n2        2     0       OPEN SPACE    <NA>  EVA        0        0\n3        3     0       OPEN SPACE    <NA>  EVA        0        0\n4        4     0       OPEN SPACE    <NA>  EVA        0        0\n5        5     0             ROAD    <NA> <NA>        0        0\n6        6     0 PLACE OF WORSHIP       W  EVA        0        0\n           INC_CRC FMEL_UPD_D   X_ADDR   Y_ADDR SHAPE_Leng SHAPE_Area\n1 BF0C37311F485B64 2014-06-23 23226.87 37189.33  1474.5021  70314.110\n2 DD6E9ED08FF9F421 2014-06-23 24627.66 36234.19   813.7382  37851.221\n3 9A88CBC8A00238DF 2014-06-23 28064.78 35926.00   771.4417  12284.432\n4 2481817E30624F97 2014-06-23 26176.96 35947.53  1686.7645 151032.768\n5 C56C3E0EF8A3E0CF 2014-06-23 28179.44 35988.46   192.4938   1162.365\n6 CB07DF0D0141AE4A 2014-06-23 16995.33 39802.90   358.7880   7924.381\n                        geometry\n1 MULTIPOLYGON (((23311.89 37...\n2 MULTIPOLYGON (((24653.61 36...\n3 MULTIPOLYGON (((28204.67 35...\n4 MULTIPOLYGON (((26136.73 35...\n5 MULTIPOLYGON (((28224.06 35...\n6 MULTIPOLYGON (((17059.14 39...\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nxmin <- 34038.56\nxmax <- 38882.85\nymin <- 40941.11\nymax <- 44801.27\n\n\n# Filter the data based on the bounding box\npunggol_data <- mpsz_14[mpsz_14$X_ADDR >= xmin & mpsz_14$X_ADDR <= xmax & mpsz_14$Y_ADDR >= ymin & mpsz_14$Y_ADDR <= ymax, ]\n\n# View the filtered data\nprint(punggol_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nSimple feature collection with 834 features and 13 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 33467.33 ymin: 40438.34 xmax: 39479.73 ymax: 45243.07\nProjected CRS: SVY21 / Singapore TM\nFirst 10 features:\n    OBJECTID OID_1     LU_DESC LU_TEXT GPR WHI_Q_MX GPR_B_MN          INC_CRC\n425      425     0 RESIDENTIAL    <NA> LND        0        0 0A63F545AA193379\n426      426     0 RESIDENTIAL    <NA> LND        0        0 96B113ECCE01A09A\n427      427     0 RESIDENTIAL    <NA> LND        0        0 62DE4AFD2DD261DC\n428      428     0 RESIDENTIAL    <NA> LND        0        0 A19D7FB4FF4E34CC\n429      429     0 RESIDENTIAL    <NA> LND        0        0 29F3ED045E2D0EE8\n430      430     0 RESIDENTIAL    <NA> LND        0        0 2ABF96F863DF0CC4\n431      431     0 RESIDENTIAL    <NA> LND        0        0 2D630D3CF73A6A6D\n432      432     0 RESIDENTIAL    <NA> LND        0        0 6A2DABCC32ADAEA2\n433      433     0 RESIDENTIAL    <NA> LND        0        0 55460EAAB66F1664\n434      434     0 RESIDENTIAL    <NA> LND        0        0 329FBA2738F5BC01\n    FMEL_UPD_D   X_ADDR   Y_ADDR SHAPE_Leng SHAPE_Area\n425 2014-06-23 36419.99 44592.20   79.07176   385.9616\n426 2014-06-23 36402.51 44477.04   91.34660   464.3480\n427 2014-06-23 35793.87 44017.81  127.88954   868.5656\n428 2014-06-23 36092.73 44192.13   97.43241   586.2891\n429 2014-06-23 35867.82 44058.28   84.68515   432.2283\n430 2014-06-23 35868.22 44098.60  101.69727   591.5312\n431 2014-06-23 35880.75 44014.19   97.40995   572.4913\n432 2014-06-23 36030.34 44213.91  101.91059   605.7129\n433 2014-06-23 35986.18 44279.85  118.40238   745.9815\n434 2014-06-23 36014.40 44180.20  102.00182   658.7291\n                          geometry\n425 MULTIPOLYGON (((36431.51 44...\n426 MULTIPOLYGON (((36411.92 44...\n427 MULTIPOLYGON (((35771.33 44...\n428 MULTIPOLYGON (((36096.14 44...\n429 MULTIPOLYGON (((35869.18 44...\n430 MULTIPOLYGON (((35850.4 440...\n431 MULTIPOLYGON (((35863.89 44...\n432 MULTIPOLYGON (((36021.56 44...\n433 MULTIPOLYGON (((36004.77 44...\n434 MULTIPOLYGON (((35994.32 44...\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(punggol_data['LU_DESC'])\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nroads <- st_read(dsn=\"data/Data_geospatial\", layer=\"gis_osm_roads_free_1\") %>%\n  st_transform(crs=3414)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsg_sf <- mpsz_14 %>% st_union()\nplot(sg_sf)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsg_roads <- st_intersection(roads,sg_sf)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nwrite_rds(sg_roads,\"data/rds/sg_roads.rds\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsg_roads <- read_rds(\"data/rds/sg_roads.rds\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nroads_pg <- sg_roads[st_intersection(sg_roads, punggol_data), ]\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(roads_pg)\n```\n:::\n",
    "supporting": [
      "Geographic_Analysis_2_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}