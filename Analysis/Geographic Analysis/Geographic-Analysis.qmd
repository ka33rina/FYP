---
title: "Geospatial Analysis using OneMap Data"
execute: 
  warning: false
date: "`r Sys.Date()`"
---

# Data Analysis

```{r}
pacman::p_load(sf, sfdep, tmap, tidyverse, spdep)
```

Reading shapefiles that were exported from our qgis geopackage:

```{r}
desired_lines <- st_read(dsn = "data/geospatial", 
                 layer = "desired_lines")
```

```{r}
plot(desired_lines)
```

```{r}
target_buildings <- st_read(dsn = "data/geospatial", 
                 layer = "target_buildings")
```
```{r}
plot(target_buildings)
```

```{r}
mpsz <- st_read(dsn = "data/geospatial",
                layer = "MP14_SUBZONE_WEB_PL")
```

```{r}
mpsz2 <- as_Spatial(mpsz)
```

```{r}
st_crs(mpsz2)
```

extracting study areas:
```{r}
pg = mpsz2[mpsz2@data$PLN_AREA_N == "PUNGGOL",]
amk = mpsz2[mpsz2@data$PLN_AREA_N == "ANG MO KIO",]
```

```{r}
#par(mfrow=c(2,2), mar = c(4, 4, 2, 1))
#plot(pg, main = "Punggol")
#plot(amk, main = "Ang Mo Kio")
```
